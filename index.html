<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Number Validation</title>
    <script>
        async function validateNumber() {
            try {
                const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSk8j-ZMvoxK-kaDxnBIBOCwC46Mg4eN7LvK4u5gS4Am3Q8p4JzfZ5saoK5jssFkOIsX-ZMajllUSMw/pub?output=csv'; // CSV format
                const response = await fetch(sheetUrl);

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const csvText = await response.text();
                const lines = csvText.trim().split('\n');
                const validNumbers = lines.map(line => line.trim());

                const userNumber = document.getElementById('numberInput').value.trim();

                // Ensure both are the same type
                if (validNumbers.includes(userNumber)) {
                    window.location.href = 'https://google.com'; // Replace with your target URL
                } else {
                    document.getElementById('errorMessage').innerText = 'You are not eligible to access this form.';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('errorMessage').innerText = 'An error occurred while validating your number. Please try again later.';
            }
        }
    </script>
</head>
<body>
    <form onsubmit="event.preventDefault(); validateNumber();">
        <label for="numberInput">Enter your number:</label>
        <input type="text" id="numberInput" required>
        <button type="submit">Submit</button>
    </form>
    <p id="errorMessage" style="color:red;"></p>
</body>
</html>
